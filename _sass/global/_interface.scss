section#app {
	position: 	relative;
	display: 	grid;

	@include phone {
		grid-template-columns: 100vw;
		grid-template-rows: auto 54pt;
		grid-template-areas: 'content' 'sidebar';
	}

	width: 100vw;
	height: 100vh;

	padding: 0;
	margin: 0;

	overflow: hidden;
}

section#app[data-sidebar='show']  {

	@include tablet {
		grid-template-columns: minmax(250px, 1fr) 4fr;
		grid-template-rows: auto;
		grid-template-areas: 'sidebar content';
	}

}

section#app[data-sidebar='hide']  {

	@include tablet {
		grid-template-columns: 1fr;
		grid-template-rows: auto;
		grid-template-areas: 'content';

		section#app-sidebar {
			display: none;
		}
	}

}

section#app[data-happeningnow='false'] {

	div#event-happeningnow {
		display: none;
	}

	div#event-nothappeningnow {
		display: block;
	}

}

section#app[data-happeningnow='true'] {

	div#event-happeningnow {
		display: block;
	}

	div#event-nothappeningnow {
		display: none;
	}

}

section#app[data-happeningnow='unknown'] {

	div#event-happeningnow {
		display: none;
	}

	div#event-nothappeningnow {
		display: none;
	}

}

section#app-sidebar {

	grid-area: sidebar;
	@include toggleDarkMode(background, systemGray6);

	@include phone {
		padding: 0;
	}
	@include tablet {
		padding: ($container-padding * 5) $container-padding;
		grid-gap: $container-padding;
	}

}

section#app-sidebar h1#app-title {
	@include sm-down {
		display: none;
	}
}

button#toggle-menu {

	@include phone {
		display: none;
	}

	position: absolute;
	display: block;
	cursor: pointer;

	z-index: 9000;

	top: $container-padding * 1.5;
	left: $container-padding;
	bottom: auto;
	right: auto;

	-webkit-appearance: none;
	background: none;
	color: none;
	border: none;

	text-align: left;
	display: inline-block;

	padding: 0;
	margin: 0;

	svg {
		display: block;
		height: 23pt;

		z-index: 9000;
	}

	path {
		@include toggleDarkMode(fill, systemGray1);
	}

	&:hover,
	&:focus,
	&:active,
	&.active {
		@include toggleDarkMode(color, systemSidebarForegroundActive);
		@include toggleDarkMode(background, systemSidebarBackgroundActive);

		path {
			@include toggleDarkMode(fill, systemSidebarForegroundActive);
		}
	}
}

section#app-sidebar nav#sidebar-navigation {

	h1 {
		@extend h2;
	}

	ul.sidebar {

		display: grid;

		@include phone {
			padding: $container-padding / 2;
			grid-gap: $container-padding / 2;
			grid-template-rows: auto;
			grid-template-columns: 1fr 1fr 1fr 1fr;
		}
		@include tablet {
			grid-gap: $container-padding * 0.5;
		}

		width: 100%;

		padding: 0;
		margin: 0;

	}

	li.menu-item {

		@include phone {
			text-align: center;
		}
		@include tablet {
			text-align: left;
		}

	}

	hr.menu-separator {
		@include phone {
			display: none;
		}
		border: none;
		border-top: 1px solid;
		width: 100%;
		@include toggleDarkMode(border-color, systemGray4);
	}

  a.menu-item--button {

		display: grid;

		-webkit-appearance: none;
		background: none;
		color: none;
		border: none;
		cursor: pointer;

		@include phone {
			grid-template: auto auto / auto;
			justify-items: center;
			grid-gap: $container-padding * 0.5;
		}
		@include tablet {
			grid-template: auto / auto auto;
			justify-content: flex-start;
			grid-gap: $container-padding * 1.5;
			align-items: center;
		}

		border-radius: 5pt;

		padding: $container-padding / 2;
		width: 100%;

		@include phone {
			@include toggleDarkMode(color, systemGray1);
		}
		@include tablet {
			@include toggleDarkMode(color, systemForeground);
		}
		path {
			@include toggleDarkMode(fill, systemGray1);
		}

		&:hover {
			@include toggleDarkMode(color, systemSidebarForegroundHover);
			@include toggleDarkMode(background, systemSidebarBackgroundHover);
      text-decoration: none;

			path {
				@include toggleDarkMode(fill, systemGray6);
			}
		}
		&:focus {
			@include toggleDarkMode(color, systemSidebarForegroundFocus);
			@include toggleDarkMode(background, systemSidebarBackgroundFocus);
      text-decoration: none;

			path {
				@include toggleDarkMode(fill, systemSidebarForegroundFocus);
			}

		}
		&:active,
		&.active,
		&[data-status="active"] {
			@include toggleDarkMode(color, systemSidebarForegroundActive);
			@include toggleDarkMode(background, systemSidebarBackgroundActive);
      text-decoration: none;
      
			path {
				@include toggleDarkMode(fill, systemSidebarForegroundActive);
			}
		}
	}

	span.label {

		padding-bottom: 0 !important;
		font-weight: 600;
		line-height: 1;

		@include phone {
			display: block;
			@each $style, $sizes in $label {
				@include toggleSizes($style, map-get($sizes, "xs"),  map-get($sizes, "sm"),  map-get($sizes, "md"),  map-get($sizes, "lg"),  map-get($sizes, "xl"));
			}
		}

		@include tablet {
			display: inline-block;
			@each $style, $sizes in $body {
				@include toggleSizes($style, map-get($sizes, "xs"),  map-get($sizes, "sm"),  map-get($sizes, "md"),  map-get($sizes, "lg"),  map-get($sizes, "xl"));
			}
		}
	}

	svg {
		max-height: 20pt;
		max-width: 20pt;
	}

}

section#app-panel {

	grid-area: content;
	max-height: 100vh;

	overflow: scroll;
	-webkit-overflow-scrolling: touch;

	@include toggleDarkMode(background, systemBackground);

}

main.container,
section.container,
div.container {

	display: grid;

	@include toggleSizes(max-width, 100vw, 100vw, 600px, 700px, 1000px);

	margin: 0 auto;
	padding: $container-padding;
	padding-bottom: 5 * $container-padding;

}

section.scorecard {
	min-height: 100vh;
}

ul.list {

	display: grid;

	width: 100%;

	padding: 0;
	margin: 0;

  li.list-item {
	  text-align: left;
    
    &:first-of-type,
    &:first-of-type a {
      border-radius: 0;
      border-top-left-radius: 5pt;
      border-top-right-radius: 5pt;
    }
    
    &:nth-of-type(n+2) {
      border-bottom: 0;
    }
    
    &:last-of-type,
    &:last-of-type a {
      border-top: 0;
      border-radius: 0;
      border-bottom-left-radius: 5pt;
      border-bottom-right-radius: 5pt;
    }
  }
  
  a.list-item--button {
    
    display: grid;
    
		grid-template: auto / 1fr auto;
		justify-content: flex-start;
		grid-gap: $container-padding * 1.5;
		align-items: center;
  
    margin: 0;
	  -webkit-appearance: none;
	  @include toggleDarkMode(background, systemWhite);
	  @include toggleDarkMode(color, systemForeground);
	  border: 1px solid;
	  @include toggleDarkMode(border-color, systemGray3);

	  cursor: pointer;
  
	  padding: $container-padding;
	  width: 100%;
    path {
		  @include toggleDarkMode(fill, systemGray1);
	  }
  
	  &:hover {
		  @include toggleDarkMode(color, systemSidebarForegroundHover);
		  @include toggleDarkMode(background, systemSidebarBackgroundHover);
      path {
			  @include toggleDarkMode(fill, systemGray6);
		  }
	  }
	  &:focus {
		  @include toggleDarkMode(color, systemSidebarForegroundFocus);
		  @include toggleDarkMode(background, systemSidebarBackgroundFocus);
      path {
			  @include toggleDarkMode(fill, systemSidebarForegroundFocus);
		  }
	  }
	  &:active,
	  &.active,
	  &[data-status="active"] {
		  @include toggleDarkMode(color, systemSidebarForegroundActive);
		  @include toggleDarkMode(background, systemSidebarBackgroundActive);
      path {
			  @include toggleDarkMode(fill, systemSidebarForegroundActive);
		  }
	  }
    
  }
  
  span.label {
  
	  padding-bottom: 0 !important;
	  font-weight: 600;
	  line-height: 1;
  
	  display: block;
	  @each $style, $sizes in $body {
		  @include toggleSizes($style, map-get($sizes, "xs"),  map-get($sizes, "sm"),  map-get($sizes, "md"),  map-get($sizes, "lg"),  map-get($sizes, "xl"));
	  }
    
  }

	svg {
		max-height: 10pt;
		max-width: 10pt;
    justify-content: flex-end;
	}
  
}

div.event-infobox {

	margin: ($container-padding * 2) 0;
	padding: $container-padding;

	@include toggleDarkMode(background, systemGray5);
	border-radius: 10pt;

	h2:first-child {
		padding-top: 0;
	}

	p:last-child {
		padding-bottom: 0;
	}
}

.event-infobox + h1.largeTitle {
  padding-top: $container-padding;
}

.country-scorecard {
  
  display: grid;
  grid-template-columns: 10% 1fr auto;
  grid-template-rows: 1fr 2fr auto;
  grid-template-areas: 'position nowplaying score' 'meta meta score' 'voting voting voting';
  grid-gap: $container-padding;

	margin: 0 0 $container-padding 0;
	padding: $container-padding;

	@include toggleDarkMode(background, systemGray5);
	border-radius: 10pt;

	h2:first-child {
		padding-top: 0;
	}

	p:last-child {
		padding-bottom: 0;
	}
  
  span.position { 
    grid-area: position; 
    align-self: flex-start;
    justify-self: flex-start;
  }
  span.score { 
    grid-area: score;
    align-self: flex-end;
    justify-self: flex-end;
  }
  div.country-meta {
    display: grid;
    grid-area: meta; 
    align-content: flex-end;
    justify-items: flex-end;
  }
  span.country,
  span.artist-song {
    display: block;
    width: 100%;
  }
  div.voting {
    grid-area: voting;
    text-align: center;
  }
  div.voting span {
    display: block;
    width: 100%;
  }
}

div.sort--scorecard {
  display: grid;
  position: -webkit-sticky;
  position: sticky;
  top: 0;
  
  grid-template-columns: 50% 50%;
  padding-top: $container-padding;
  padding-bottom: $container-padding;
	@include toggleDarkMode(background, systemBackground);
  @supports (backdrop-filter: blur(1px)){ 
	  @include toggleDarkMode(background, systemBackgroundTransparent);
    backdrop-filter: blur(10px);
  }
  @supports (-webkit-backdrop-filter: blur(10px)){ 
	  @include toggleDarkMode(background, systemBackgroundTransparent);
    -webkit-backdrop-filter: blur(10px);
  }
}

button.sort--button {

  @include toggleSizes(display, block, inline-block, inline-block, inline-block, inline-block);
  width: 100%;
	cursor: pointer;

	-webkit-appearance: none;
	background: none;
	
  border-radius: 10px;
  
  &:first-of-type {
    border-top-right-radius: 0;
    border-top-left-radius: 10px; 
    border-bottom-right-radius: 0;
    border-bottom-left-radius: 10px;
  }
  
  &:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-top-right-radius: 10px;
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-bottom-right-radius: 10px;
    
    border-left: 0;
  }
  
	border: 2px solid;
	@include toggleDarkMode(border-color, systemSidebarForegroundActive);
	@include toggleDarkMode(color, systemSidebarForegroundActive);

  @each $style, $sizes in $toggle {
	  @include toggleSizes($style, map-get($sizes, "xs"),  map-get($sizes, "sm"),  map-get($sizes, "md"),  map-get($sizes, "lg"),  map-get($sizes, "xl"));
    padding: $container-padding !important;
    margin: 0 !important;
    text-align: center !important;
  }

	&:hover,
	&:focus,
	&:active,
	&.active,
  &[data-status='active'] {
		@include toggleDarkMode(color, systemSidebarBackgroundActive);
		@include toggleDarkMode(background, systemSidebarForegroundActive);

		path {
			@include toggleDarkMode(fill, systemSidebarForegroundActive);
		}
	}
}

.button {
  @include toggleSizes(display, block, inline-block, inline-block, inline-block, inline-block);
  width: 100%;
  max-width: 500px;
  
	cursor: pointer;
  
	-webkit-appearance: none;
	background: none;
	
  border-radius: 10px;
	border: 2px solid;
	@include toggleDarkMode(border-color, systemSidebarForegroundActive);
	@include toggleDarkMode(color, systemSidebarForegroundActive);

  @each $style, $sizes in $toggle {
	  @include toggleSizes($style, map-get($sizes, "xs"),  map-get($sizes, "sm"),  map-get($sizes, "md"),  map-get($sizes, "lg"),  map-get($sizes, "xl"));
    padding: $container-padding !important;
    margin: 0 !important;
    text-align: center !important;
  }

	&:hover,
	&:focus,
	&:active,
	&.active,
  &[data-status='active'] {
		@include toggleDarkMode(color, systemSidebarBackgroundActive);
		@include toggleDarkMode(background, systemSidebarForegroundActive);
    text-decoration: none;
		path {
			@include toggleDarkMode(fill, systemSidebarForegroundActive);
		}
	}
}